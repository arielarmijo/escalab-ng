"use strict";(self.webpackChunktarea_2=self.webpackChunktarea_2||[]).push([[718],{6718:(O,c,i)=>{i.r(c),i.d(c,{HarryPotterModule:()=>M});var p=i(9808),l=i(4466),m=i(2783),t=i(1223),u=i(4004),g=i(520);let h=(()=>{class r{constructor(e){this.http=e,this.urlApi="http://hp-api.herokuapp.com/api/characters",this.houses=["Gryffindor","Hufflepuff","Ravenclaw","Slytherin"]}getCharactersFromHouse(e){return this.http.get(`${this.urlApi}/house/${e}`)}getHouses(){return this.http.get(this.urlApi).pipe((0,u.U)(e=>{const s=e.filter(n=>""!==n.house).map(n=>n.house).reduce((n,o)=>(n[o]=n[o]?n[o]+1:1,n),{});return Object.entries(s).map(([n,o])=>({name:n,qty:o})).sort((n,o)=>n.name>o.name?1:n.name<o.name?-1:0)}))}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(g.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();var _=i(9197),d=i(8449),f=i(29),x=i(3215);function P(r,a){if(1&r&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&r){const e=t.oxw().item;t.xp6(1),t.hij("(",e.altText,")")}}function C(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"li",13),t.NdJ("click",function(){const o=t.CHM(e).item;return t.oxw(2).showHouseCharacters(o)}),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.YNc(3,P,2,1,"span",14),t.TgZ(4,"span",15),t._uU(5),t.qZA(),t.qZA()}if(2&r){const e=a.item;t.xp6(2),t.Oqu(e.text),t.xp6(1),t.Q6J("ngIf",e.altText),t.xp6(2),t.Oqu(e.qty)}}function y(r,a){if(1&r&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&r){const e=t.oxw().item;t.xp6(1),t.hij("(",e.altText,")")}}function H(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"li",13),t.NdJ("click",function(){const o=t.CHM(e).item;return t.oxw(3).showCharacterCard(o)}),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.YNc(5,y,2,1,"span",14),t.TgZ(6,"span",15),t._uU(7),t.qZA(),t.qZA()}if(2&r){const e=a.item;t.xp6(2),t.hij("",e.id+1,".-"),t.xp6(2),t.Oqu(e.text),t.xp6(1),t.Q6J("ngIf",e.altText),t.xp6(2),t.Oqu(e.qty)}}function T(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"app-list",17),t.YNc(1,H,8,4,"ng-template",6,7,t.W1O),t.NdJ("itemClicked",function(n){return t.CHM(e),t.oxw(2).log(n)}),t.qZA()}if(2&r){const e=t.oxw(2);t.Q6J("items",e.characterItems)("currentPage",e.currentPage)("itemsPerPage",e.itemsPerPage)}}function v(r,a){if(1&r&&t._UZ(0,"app-card",18),2&r){const e=t.oxw(2);t.Q6J("card",e.card)}}function Z(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"h1"),t._uU(4,"Houses"),t.qZA(),t.TgZ(5,"app-list",5),t.YNc(6,C,6,3,"ng-template",6,7,t.W1O),t.NdJ("itemClicked",function(n){return t.CHM(e),t.oxw().log(n)}),t.qZA(),t.qZA(),t.TgZ(8,"div",8),t.TgZ(9,"h1"),t._uU(10),t.qZA(),t.YNc(11,T,3,3,"app-list",9),t.TgZ(12,"app-pagination",10),t.NdJ("pageChanged",function(n){return t.CHM(e),t.oxw().currentPage=n}),t.qZA(),t.qZA(),t.TgZ(13,"div",11),t.YNc(14,v,1,1,"app-card",12),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(),s=t.MAs(2);t.xp6(5),t.Q6J("items",e.houseItems),t.xp6(5),t.Oqu(e.house),t.xp6(1),t.Q6J("ngIf",e.characterItems.length>0)("ngIfElse",s),t.xp6(1),t.Q6J("itemsLength",e.characterItems.length)("itemsPerPage",e.itemsPerPage)("currentPage",e.currentPage),t.xp6(2),t.Q6J("ngIf",e.card)}}function I(r,a){1&r&&t._UZ(0,"app-spinner")}const A=[{path:"",component:(()=>{class r{constructor(e){this.hpSrv=e,this.houseItems=[],this.characters=[],this.characterItems=[],this.currentPage=0,this.itemsLength=this.characterItems.length,this.itemsPerPage=12}ngOnInit(){this.hpSrv.getHouses().subscribe(e=>{this.houseItems=e.map((s,n)=>({id:n,text:s.name,qty:s.qty})),this.showHouseCharacters(this.houseItems[0])})}showHouseCharacters(e){this.house=e.text,this.characterItems=[],this.currentPage=0,this.hpSrv.getCharactersFromHouse(e.text).subscribe(s=>{this.characters=s,this.characterItems=this.characters.map((n,o)=>({id:o,text:n.name,altText:n.gender})),this.showCharacterCard(this.characterItems[0])})}showCharacterCard(e){this.card=this.characterToCard(this.characters[e.id])}characterToCard(e){return{image:""!==e.image?e.image:"./assets/images/anonymous-user.jpg",title:e.name,subTitle:e.house,text:e.actor}}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(h))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-harry-potter"]],decls:3,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["spinner",""],[1,"container"],[1,"row"],[1,"col-3"],[3,"items"],[3,"itemClicked"],["item",""],[1,"col-6"],[3,"items","currentPage","itemsPerPage",4,"ngIf","ngIfElse"],[3,"itemsLength","itemsPerPage","currentPage","pageChanged"],[1,"col","align-self-center"],[3,"card",4,"ngIf"],[3,"click"],["class","text-muted",4,"ngIf"],[1,"badge","bg-secondary"],[1,"text-muted"],[3,"items","currentPage","itemsPerPage"],[3,"card"]],template:function(e,s){if(1&e&&(t.YNc(0,Z,15,8,"div",0),t.YNc(1,I,1,0,"ng-template",null,1,t.W1O)),2&e){const n=t.MAs(2);t.Q6J("ngIf",s.houseItems.length>0)("ngIfElse",n)}},directives:[p.O5,_.n,d.Q,f.A,x.O],styles:["li[_ngcontent-%COMP%]{cursor:pointer;list-style-type:none}","li[_ngcontent-%COMP%]:hover{color:#0d6efd;transform:translate(5px)}","span[_ngcontent-%COMP%]{margin:0 3px}"]}),r})()}];let q=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[m.Bz.forChild(A)],m.Bz]}),r})(),M=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[p.ez,q,l.m]]}),r})()}}]);