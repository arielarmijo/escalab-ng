"use strict";(self.webpackChunktarea_2=self.webpackChunktarea_2||[]).push([[191],{8191:(A,c,a)=>{a.r(c),a.d(c,{HarryPotterModule:()=>Z});var l=a(9808),p=a(2783),t=a(1223),h=a(4004),m=a(520);let u=(()=>{class r{constructor(e){this.http=e,this.urlApi="http://hp-api.herokuapp.com/api/characters",this.houses=["Gryffindor","Hufflepuff","Ravenclaw","Slytherin"]}getCharactersFromHouse(e){return this.http.get(`${this.urlApi}/house/${e}`)}getHouses(){return this.http.get(this.urlApi).pipe((0,h.U)(e=>{const s=e.filter(o=>""!==o.house).map(o=>o.house).reduce((o,i)=>(o[i]=o[i]?o[i]+1:1,o),{});return Object.entries(s).map(([o,i])=>({name:o,qty:i}))}))}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(m.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var d=a(8516),f=a(29),v=a(3215);function g(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",4),t.TgZ(1,"h2"),t._uU(2,"Houses"),t.qZA(),t.TgZ(3,"app-selectable-list",5),t.NdJ("listItemClickEvent",function(o){return t.CHM(e),t.oxw().onHouseItemClick(o)}),t.qZA(),t.qZA()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("items",e.houseItems)}}function y(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"h4"),t._uU(2),t.qZA(),t.TgZ(3,"app-selectable-list",5),t.NdJ("listItemClickEvent",function(o){return t.CHM(e),t.oxw().onCharacterItemClick(o)}),t.qZA(),t.qZA()}if(2&r){const e=t.oxw();t.xp6(2),t.Oqu(e.house),t.xp6(1),t.Q6J("items",e.characterItems)}}function C(r,n){if(1&r&&t._UZ(0,"app-card",8),2&r){const e=t.oxw(2);t.Q6J("card",e.card)}}function H(r,n){if(1&r&&(t.TgZ(0,"div",6),t.YNc(1,C,1,1,"app-card",7),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.card)}}function I(r,n){1&r&&(t.TgZ(0,"div",6),t._UZ(1,"app-spinner"),t.qZA())}const x=[{path:"",component:(()=>{class r{constructor(e){this.hpSrv=e,this.houses=[],this.houseItems=[],this.characters=[],this.characterItems=[]}ngOnInit(){this.hpSrv.getHouses().subscribe(e=>{this.houses=e,this.house=e[0].name,this.houseItems=e.map(s=>({name:s.name,altName:s.qty})),this.onHouseItemClick(0)})}onHouseItemClick(e){this.house=this.houses[e].name,this.characters=[],this.hpSrv.getCharactersFromHouse(this.house).subscribe(s=>{this.characters=s,this.characterItems=s.map(o=>({name:o.name,altName:o.gender})),this.card=this.characterToCard(s[0])})}onCharacterItemClick(e){this.card=this.characterToCard(this.characters[e])}characterToCard(e){return{image:""!==e.image?e.image:"./assets/images/anonymous-user.jpg",title:e.name,subTitle:e.house,text:e.actor}}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(u))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-harry-potter"]],decls:6,vars:4,consts:[[1,"container"],[1,"row"],["class","col fs-6",4,"ngIf"],["class","col",4,"ngIf"],[1,"col","fs-6"],[3,"items","listItemClickEvent"],[1,"col"],[3,"card",4,"ngIf"],[3,"card"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,g,4,1,"div",2),t.YNc(3,y,4,2,"div",3),t.YNc(4,H,2,1,"div",3),t.YNc(5,I,2,0,"div",3),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",s.houses.length>0),t.xp6(1),t.Q6J("ngIf",s.characters.length>0),t.xp6(1),t.Q6J("ngIf",s.characters.length>0),t.xp6(1),t.Q6J("ngIf",0===s.characters.length))},directives:[l.O5,d.o,f.A,v.O],encapsulation:2}),r})()}];let P=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[p.Bz.forChild(x)],p.Bz]}),r})();var T=a(4466);let Z=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[l.ez,P,T.m]]}),r})()}}]);