"use strict";(self.webpackChunktarea_2=self.webpackChunktarea_2||[]).push([[718],{6718:(J,c,i)=>{i.r(c),i.d(c,{HarryPotterModule:()=>M});var m=i(9808),l=i(4466),p=i(2783),t=i(1223),h=i(4004),u=i(520);let g=(()=>{class r{constructor(e){this.http=e,this.urlApi="http://hp-api.herokuapp.com/api/characters",this.houses=["Gryffindor","Hufflepuff","Ravenclaw","Slytherin"]}getCharactersFromHouse(e){return this.http.get(`${this.urlApi}/house/${e}`)}getHouses(){return this.http.get(this.urlApi).pipe((0,h.U)(e=>{const s=e.filter(n=>""!==n.house).map(n=>n.house).reduce((n,o)=>(n[o]=n[o]?n[o]+1:1,n),{});return Object.entries(s).map(([n,o])=>({name:n,qty:o})).sort((n,o)=>n.name>o.name?1:n.name<o.name?-1:0)}))}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(u.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();var d=i(9197),_=i(5184),P=i(8449),f=i(29),C=i(3215);function y(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"app-selectable-item",12),t.NdJ("itemClicked",function(n){return t.CHM(e),t.oxw(2).showHouseCharacters(n)}),t.qZA()}2&r&&t.Q6J("item",a.item)("showId",!1)}function H(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"app-selectable-item",12),t.NdJ("itemClicked",function(n){return t.CHM(e),t.oxw(3).showCharactersCard(n)}),t.qZA()}2&r&&t.Q6J("item",a.item)("showId",!0)}function v(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"app-list",13),t.YNc(1,H,1,2,"ng-template",6,7,t.W1O),t.NdJ("itemClicked",function(n){return t.CHM(e),t.oxw(2).log(n)}),t.qZA()}if(2&r){const e=t.oxw(2);t.Q6J("items",e.characterItems)("currentPage",e.currentPage)("itemsPerPage",e.itemsPerPage)}}function x(r,a){if(1&r&&t._UZ(0,"app-card",14),2&r){const e=t.oxw(2);t.Q6J("card",e.card)}}function T(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"h1"),t._uU(4,"Houses"),t.qZA(),t.TgZ(5,"app-list",5),t.YNc(6,y,1,2,"ng-template",6,7,t.W1O),t.NdJ("itemClicked",function(n){return t.CHM(e),t.oxw().log(n)}),t.qZA(),t.qZA(),t.TgZ(8,"div",8),t.TgZ(9,"h1"),t._uU(10),t.qZA(),t.YNc(11,v,3,3,"app-list",9),t.TgZ(12,"app-pagination",10),t.NdJ("pageChanged",function(n){return t.CHM(e),t.oxw().currentPage=n}),t.qZA(),t.qZA(),t.TgZ(13,"div",8),t.YNc(14,x,1,1,"app-card",11),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(),s=t.MAs(2);t.xp6(5),t.Q6J("items",e.houseItems),t.xp6(5),t.Oqu(e.house),t.xp6(1),t.Q6J("ngIf",e.characterItems.length>0)("ngIfElse",s),t.xp6(1),t.Q6J("currentPage",e.currentPage)("itemsLength",e.characterItems.length)("itemsPerPage",e.itemsPerPage),t.xp6(2),t.Q6J("ngIf",e.card)}}function I(r,a){1&r&&t._UZ(0,"app-spinner")}const Z=[{path:"",component:(()=>{class r{constructor(e){this.hpSrv=e,this.houseItems=[],this.characters=[],this.characterItems=[],this.currentPage=0,this.itemsPerPage=12}ngOnInit(){this.hpSrv.getHouses().subscribe(e=>{this.houseItems=e.map((s,n)=>({id:n,text:s.name,qty:s.qty})),this.house=e[0].name,this.showHouseCharacters(this.houseItems[0])})}showHouseCharacters(e){this.house=e.text,this.characterItems=[],this.currentPage=0,this.hpSrv.getCharactersFromHouse(e.text).subscribe(s=>{this.characterItems=s.map((n,o)=>({id:o,text:n.name,altText:n.gender})),this.characters=s,this.showCharactersCard(this.characterItems[0])})}showCharactersCard(e){this.card=this.characterToCard(this.characters[e.id])}characterToCard(e){return{image:""!==e.image?e.image:"./assets/images/anonymous-user.jpg",title:e.name,subTitle:e.house,text:e.actor}}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(g))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-harry-potter"]],decls:3,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["spinner",""],[1,"container"],[1,"row"],[1,"col-3"],[3,"items"],[3,"itemClicked"],["item",""],[1,"col"],[3,"items","currentPage","itemsPerPage",4,"ngIf","ngIfElse"],[3,"currentPage","itemsLength","itemsPerPage","pageChanged"],[3,"card",4,"ngIf"],[3,"item","showId","itemClicked"],[3,"items","currentPage","itemsPerPage"],[3,"card"]],template:function(e,s){if(1&e&&(t.YNc(0,T,15,8,"div",0),t.YNc(1,I,1,0,"ng-template",null,1,t.W1O)),2&e){const n=t.MAs(2);t.Q6J("ngIf",s.houseItems.length>0)("ngIfElse",n)}},directives:[m.O5,d.n,_.P,P.Q,f.A,C.O],styles:["li[_ngcontent-%COMP%]{cursor:pointer}","li[_ngcontent-%COMP%]:hover{color:#0d6efd;transform:translate(5px)}",".badge[_ngcontent-%COMP%]{margin:0 .5rem}"]}),r})()}];let A=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[p.Bz.forChild(Z)],p.Bz]}),r})(),M=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[m.ez,A,l.m]]}),r})()}}]);